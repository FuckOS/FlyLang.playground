import{d as e,c as t,F as n,a as o,b as l,u as a,w as r,v as i,e as s,f as u,r as d,g as c,o as p,h as m,_ as g,i as b,j as f,l as y,U as v,k as h}from"./vendor.245d2fd0.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var k=e({name:"CommitTag",setup:()=>()=>t(n,null,[t("span",{id:"commit"},[t("a",{href:"about:blank"},[o("@"),"unknown"])])])});let w;var _;let E;(_=w||(w={})).Debug="debug",_.Release="release",(E||(E={})).Fly50W="fly50w";var T=l({state:{init:!1,build:{target:w.Debug,vm:E.Fly50W,debounce_time:1e3,auto_reload:!0}},mutations:{initEditor(e,[t,n]){e.init||(e.editor=t,e.output=n)},setBuildVM(e,t){e.build.vm=t},setBuildTarget(e,t){e.build.target=t},setAutoReload(e,t){e.build.auto_reload=t},setDebounceTime(e,t){t<=1e4&&t>=1e3&&(e.build.debounce_time=t)}},getters:{debounceTime:e=>e.build.debounce_time,autoReload:e=>e.build.auto_reload,isInited:e=>e.init,buildConfig:e=>e.build,getEditorInstance(e){if(e.init)return[e.editor,e.output]}}}),V=e({name:"OptionsMenu",setup(){const e=a();return()=>t("div",{id:"options-menu"},[t("ul",null,[t("li",null,[t("p",null,[o("Target")]),r(t("select",{title:"Target","onUpdate:modelValue":t=>e.state.build.target=t},[Object.values(w).map((e=>t("option",{value:e},[e])))]),[[i,e.state.build.target]])]),t("li",null,[t("p",null,[o("VM")]),r(t("select",{"onUpdate:modelValue":t=>e.state.build.vm=t},[Object.values(E).map((e=>t("option",{value:e},[e])))]),[[i,e.state.build.vm]])]),t("li",null,[t("p",null,[o("Debounce Time")]),r(t("input",{type:"range",min:1e3,max:1e4,"onUpdate:modelValue":t=>e.state.build.debounce_time=t},null),[[s,e.state.build.debounce_time]]),t("p",{style:"color: #999;"},[o("("),(e.state.build.debounce_time/1e3).toPrecision(2),o("s)")])]),t("li",null,[t("label",{for:"auto_reload"},[o("Auto reload")]),r(t("input",{type:"checkbox",id:"auto_reload","onUpdate:modelValue":t=>e.state.build.auto_reload=t},null),[[u,e.state.build.auto_reload]])])])])}}),$=e({name:"Options",setup(){const e=d(!1),l=()=>e.value=!1,a=()=>e.value=!0;return()=>t(n,null,[t("div",{id:"options-wrapper",onMouseleave:l},[t("div",{id:"options-label",onMouseover:a},[o("Options")]),r(t(V,null,null),[[c,e.value]])])])}}),A=e({name:"Header",setup:()=>()=>t(n,null,[t("div",{id:"header"},[t("p",{id:"title"},[o("Flylang Playground")]),t("span",{id:"subtitle"},[o("Beta")]),t(k,null,null),t($,null,null)])])});const L={},O=function(e,t){return t&&0!==t.length?Promise.all(t.map((e=>{if((e=`/${e}`)in L)return;L[e]=!0;const t=e.endsWith(".css"),n=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${n}`))return;const o=document.createElement("link");return o.rel=t?"stylesheet":"modulepreload",t||(o.as="script",o.crossOrigin=""),o.href=e,document.head.appendChild(o),t?new Promise(((e,t)=>{o.addEventListener("load",e),o.addEventListener("error",t)})):void 0}))).then((()=>e())):e()};var j={keywords:["let","fn","for","try","except","return","break","throw","assert","error"],typeKeywords:[],operators:["=",">","<","!","~","?",":","==","<=",">=","!=","&&","||","++","--","+","-","*","/","&","|","^","%","<<",">>",">>>","+=","-=","*=","/=","&=","|=","^=","%=","<<=",">>=",">>>=","..","**"],symbols:/[=><!~?:&|+\-*\/\^%\$\!]+/,escapes:/\\(?:[abfnrtv\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,tokenizer:{root:[[/[a-z_$][\w$]*/,{cases:{"@typeKeywords":"keyword","@keywords":"keyword","@default":"variable.identifier"}}],[/[A-Z][\w\$]*/,"type.identifier"],[/!import .*/,"comment.doc"],{include:"@whitespace"},[/[{}()\[\]]/,"@brackets"],[/[<>](?!@symbols)/,"@brackets"],[/@symbols/,{cases:{"@operators":"operator","@default":""}}],[/@\s*[a-zA-Z_\$][\w\$]*/,{token:"annotation"}],[/\d*\.\d+([eE][\-+]?\d+)(e)?\d+?/,"number.float"],[/\d+(e)?\d+/,"number"],[/[;,.]/,"delimiter"],[/"([^"\\]|\\.)*$/,"string.invalid"],[/"/,{token:"string.quote",bracket:"@open",next:"@string"}],[/'/,{token:"string.quote",bracket:"@open",next:"@string2"}],[/'[^\\']+'/,"string"],[/(')(@escapes)(')/,["string","string.escape","string"]],[/'/,"string.invalid"]],comment:[[/[^\/*]+/,"comment"],[/\/\*/,"comment","@push"],["\\*/","comment","@pop"],[/[\/*]/,"comment"]],string:[[/[^\\"]+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/"/,{token:"string.quote",bracket:"@close",next:"@pop"}]],string2:[[/[^\\']+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/'/,{token:"string.quote",bracket:"@close",next:"@pop"}]],whitespace:[[/[ \t\r\n]+/,"white"],[/\/\*/,"comment","@comment"],[/\/\/.*$/,"comment"],[/#.*$/,"comment"]]}};var M=e({name:"Editor",setup(){const e=d(),o=d(),l=a();var r,i,s,u;return y.register({id:"flylang",configuration:v.parse("flylang.worker.js")}),y.setMonarchTokensProvider("flylang",j),(r=e,i=o,new Promise((e=>{p((()=>{const t=m.create(r.value,null!=s?s:{language:"flylang",theme:"vs-dark",automaticLayout:!0,glyphMargin:!0}),n=m.create(i.value,null!=u?u:{language:"plaintext",theme:"vs-dark",readOnly:!0,automaticLayout:!0,glyphMargin:!0,cursorStyle:void 0,cursorBlinking:"solid",selectionHighlight:!1,wordWrap:"on"});e([t,n])}))}))).then((async([e,t])=>{console.log(e,t),await async function(e,t){e.setValue((await O((()=>import("./helloworld.38cbaff9.js")),[])).default),t.setValue((await O((()=>import("./welcome.f4d35133.js")),[])).default)}(e,t),console.log(e,t);!function(e,t,n,o){let l=async()=>{t.setValue("Running... Wait a moment.");try{const o=await n(e.getValue());t.setValue(o)}catch(o){console.error(o),t.setValue("Error!\n\n"+o.toString())}},a=e.onKeyUp(g.debounce(l,o.debouneceTime));b(f((()=>o.debounceTime)),(t=>{var n;o.autoReload&&(null==(n=null==a?void 0:a.dispose)||n.call(a),a=e.onKeyUp(g.debounce(l,t)))})),b(f((()=>o.autoReload)),(t=>{var n,r;console.log("autoreload",t),t?(null==(n=null==a?void 0:a.dispose)||n.call(a),a=e.onKeyUp(g.debounce(l,o.debounceTime))):null==(r=null==a?void 0:a.dispose)||r.call(a)}))}(e,t,(await O((()=>import("./fly50w.4985a459.js")),[])).evalCode,l.getters)})),()=>t(n,null,[t("div",{class:"editor",ref:e},null),t("div",{class:"output",ref:o},null)])}}),P=e({setup:()=>()=>t(n,null,[t(A,null,null),t(M,null,null)])});globalThis.MonacoEnvironment={getWorkerUrl:e=>"flylang"==e?"flylang.worker.js":"editor.worker.js"},h(P).use(T).mount("#app");
